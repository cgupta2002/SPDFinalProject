{% extends 'base.html' %}
{% block title %}Conversation with {{user['name']}}{% endblock %}
{% block content %}
<main class="container p-5">
    <h2>Conversation with {{ receiver }}</h2>
    <div class="message-list">
        {% for message in convo %}
        <div class="message {% if convo['sender_id'] == session['user_id'] %}sent{% else %}received{% endif %}">
            <strong>{{ message['content'] }}:</strong>
        </div>
        {% endfor %}
    </div>
    <form action="{{ url_for('send_message', conversation_id=conversation_id) }}" method="POST" class="mt-3">
        <div class="form-group">
            <textarea name="content" class="form-control" rows="3" placeholder="Type a message..." required></textarea>
        </div>
        <button type="submit" class="btn btn-primary mt-2">Send</button>
    </form>
</main>
{% endblock %}